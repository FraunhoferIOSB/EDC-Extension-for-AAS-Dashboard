<mat-card class="aas-element-card">
  <div style="display: flex;">
    <info-view *ngIf="element?.properties?.value" [name]="'SubmodelElementCollection'" [element]="element"></info-view>
    <info-view *ngIf="!element?.properties?.value" [name]="'SubmodelElement'" [element]="element"></info-view>

    <button class="right-aligned-button" (click)="negotiateContract(element?.id, provider)"
      title="Negotiate contract associated with this element and provider" mat-icon-button>
      <mat-icon>attachment</mat-icon>
    </button>
  </div>
  <div *ngIf="element?.properties?.value" class="aas-element-name" mat-line>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>Nested Submodel Elements ({{element?.properties?.value?.length}})</mat-panel-title>
      </mat-expansion-panel-header>
      <element-collection [element]="submodelElement" [provider]="provider"
        *ngFor="let submodelElement of element?.properties?.value || []"></element-collection>
    </mat-expansion-panel>
  </div>
</mat-card>
